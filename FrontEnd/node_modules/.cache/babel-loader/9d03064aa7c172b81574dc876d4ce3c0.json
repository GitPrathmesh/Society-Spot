{"ast":null,"code":"import React from'react';import{useState}from'react';import{uncomment}from'../api/api-post';import auth from'./../auth/auth-help';import jwt1 from'jwt-decode';// import dependency\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Comment=props=>{let[st,Setst]=useState(0);let[x,setx]=useState(2);let[comments,setComments]=useState(props.comments);const jwt=auth.isAuthenticated();const user1=jwt1(jwt.token);console.log(props.comments);const deleteComment=comment=>event=>{uncomment({userId:user1.id},{t:jwt.token},props.postId,comment).then(data=>{props.updateComments(data.comments);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:comments.length>0?/*#__PURE__*/_jsxs(\"section\",{className:\"d-flex flex-column white border_radius  p-2\",children:[props.comments.slice(st,x).map(item=>{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\" pt-3 d-flex align-items-start me-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"name d-flex \",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.commentedBy.image,alt:\"profile\",style:{width:50,height:50},className:\"rounded-circle me-3\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[item.commentedBy._id==user1.id?/*#__PURE__*/_jsx(\"i\",{onClick:deleteComment(item),className:\"fa-regular fa-trash-can position-absolute fs-5 mr-3 trash\"}):null,/*#__PURE__*/_jsx(\"h5\",{className:\"mb-1 text fs-5\",children:item.commentedBy.name}),/*#__PURE__*/_jsx(\"p\",{className:\"comment-text-sm\",children:item.text})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"border-bottom d-flex ps-5\"})]});}),comments.length>=2?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-light\",onClick:()=>{setx(x+4);},children:\"show more\"}):null]}):null})});};export default Comment;","map":{"version":3,"names":["React","useState","uncomment","auth","jwt1","Comment","props","st","Setst","x","setx","comments","setComments","jwt","isAuthenticated","user1","token","console","log","deleteComment","comment","event","userId","id","t","postId","then","data","updateComments","length","slice","map","item","commentedBy","image","width","height","_id","name","text"],"sources":["D:/5th Sem/Web Technologies/WT PROJECT/Social/Social-Networking-Mern/FrontEnd/src/component/Comment.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport { uncomment } from '../api/api-post';\r\nimport auth from './../auth/auth-help'\r\nimport jwt1 from 'jwt-decode' // import dependency\r\n\r\nconst Comment = (props) => {\r\nlet [st , Setst]=useState(0)\r\nlet [x , setx]=useState(2)\r\nlet [comments,setComments]=useState(props.comments)\r\nconst jwt = auth.isAuthenticated()\r\nconst user1 = jwt1(jwt.token);\r\nconsole.log(props.comments)\r\n\r\nconst deleteComment = comment => event => {\r\n    uncomment({\r\n      userId: user1.id\r\n    }, {\r\n      t: jwt.token\r\n    }, props.postId,comment).then((data)=>{\r\n      props.updateComments(data.comments)\r\n    })\r\n  }\r\n\r\n  return (\r\n      <>\r\n    <div>\r\n    {comments.length>0 ?\r\n       <section className=\"d-flex flex-column white border_radius  p-2\">\r\n       {props.comments.slice(st,x).map((item)=>{\r\n           return ( \r\n    <div>\r\n    \r\n  <div className=\" pt-3 d-flex align-items-start me-4\">\r\n  <div className=\"name d-flex \">\r\n    <div>\r\n      <img\r\n        src={item.commentedBy.image}\r\n        alt=\"profile\"\r\n        style={{ width: 50 ,height:50}}\r\n        className=\"rounded-circle me-3\"\r\n      />\r\n    </div>\r\n    <div>\r\n      \r\n\r\n      {item.commentedBy._id==user1.id ?<i onClick={deleteComment(item)} className=\"fa-regular fa-trash-can position-absolute fs-5 mr-3 trash\" />:null}\r\n      <h5 className=\"mb-1 text fs-5\">{item.commentedBy.name}</h5>\r\n      <p className=\"comment-text-sm\">{item.text}</p>\r\n    </div>\r\n  </div>\r\n  </div>\r\n  <div className=\"border-bottom d-flex ps-5\">\r\n  </div>\r\n    \r\n  \r\n </div> \r\n           )\r\n\r\n       })}\r\n  {comments.length>=2 ?<button  className=\"btn btn-light\" onClick={()=>{setx(x+4)}}>show more</button> :null} \r\n</section>:null}\r\n\r\n    </div>\r\n</>\r\n  )\r\n}\r\n\r\nexport default Comment"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,MAAOC,KAAP,KAAiB,qBAAjB,CACA,MAAOC,KAAP,KAAiB,YAAjB,CAA8B;6IAE9B,KAAMC,QAAO,CAAIC,KAAD,EAAW,CAC3B,GAAI,CAACC,EAAD,CAAMC,KAAN,EAAaP,QAAQ,CAAC,CAAD,CAAzB,CACA,GAAI,CAACQ,CAAD,CAAKC,IAAL,EAAWT,QAAQ,CAAC,CAAD,CAAvB,CACA,GAAI,CAACU,QAAD,CAAUC,WAAV,EAAuBX,QAAQ,CAACK,KAAK,CAACK,QAAP,CAAnC,CACA,KAAME,IAAG,CAAGV,IAAI,CAACW,eAAL,EAAZ,CACA,KAAMC,MAAK,CAAGX,IAAI,CAACS,GAAG,CAACG,KAAL,CAAlB,CACAC,OAAO,CAACC,GAAR,CAAYZ,KAAK,CAACK,QAAlB,EAEA,KAAMQ,cAAa,CAAGC,OAAO,EAAIC,KAAK,EAAI,CACtCnB,SAAS,CAAC,CACRoB,MAAM,CAAEP,KAAK,CAACQ,EADN,CAAD,CAEN,CACDC,CAAC,CAAEX,GAAG,CAACG,KADN,CAFM,CAINV,KAAK,CAACmB,MAJA,CAIOL,OAJP,CAAT,CAIyBM,IAJzB,CAI+BC,IAAD,EAAQ,CACpCrB,KAAK,CAACsB,cAAN,CAAqBD,IAAI,CAAChB,QAA1B,EACD,CAND,EAOD,CARH,CAUE,mBACI,sCACF,qBACCA,QAAQ,CAACkB,MAAT,CAAgB,CAAhB,cACE,iBAAS,SAAS,CAAC,6CAAnB,WACCvB,KAAK,CAACK,QAAN,CAAemB,KAAf,CAAqBvB,EAArB,CAAwBE,CAAxB,EAA2BsB,GAA3B,CAAgCC,IAAD,EAAQ,CACpC,mBACP,oCAEF,YAAK,SAAS,CAAC,qCAAf,uBACA,aAAK,SAAS,CAAC,cAAf,wBACE,kCACE,YACE,GAAG,CAAEA,IAAI,CAACC,WAAL,CAAiBC,KADxB,CAEE,GAAG,CAAC,SAFN,CAGE,KAAK,CAAE,CAAEC,KAAK,CAAE,EAAT,CAAaC,MAAM,CAAC,EAApB,CAHT,CAIE,SAAS,CAAC,qBAJZ,EADF,EADF,cASE,uBAGGJ,IAAI,CAACC,WAAL,CAAiBI,GAAjB,EAAsBtB,KAAK,CAACQ,EAA5B,cAAgC,UAAG,OAAO,CAAEJ,aAAa,CAACa,IAAD,CAAzB,CAAiC,SAAS,CAAC,2DAA3C,EAAhC,CAA0I,IAH7I,cAIE,WAAI,SAAS,CAAC,gBAAd,UAAgCA,IAAI,CAACC,WAAL,CAAiBK,IAAjD,EAJF,cAKE,UAAG,SAAS,CAAC,iBAAb,UAAgCN,IAAI,CAACO,IAArC,EALF,GATF,GADA,EAFE,cAqBF,YAAK,SAAS,CAAC,2BAAf,EArBE,GADO,CA6BH,CA9BA,CADD,CAgCJ5B,QAAQ,CAACkB,MAAT,EAAiB,CAAjB,cAAoB,eAAS,SAAS,CAAC,eAAnB,CAAmC,OAAO,CAAE,IAAI,CAACnB,IAAI,CAACD,CAAC,CAAC,CAAH,CAAJ,CAAU,CAA3D,uBAApB,CAAqG,IAhCjG,GADF,CAkCM,IAnCP,EADE,EADJ,CA0CD,CA5DD,CA8DA,cAAeJ,QAAf"},"metadata":{},"sourceType":"module"}