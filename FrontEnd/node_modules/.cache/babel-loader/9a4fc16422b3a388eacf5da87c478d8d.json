{"ast":null,"code":"import React from'react';import auth from'./../auth/auth-help';import jwt1 from'jwt-decode';// import dependency\nimport{useEffect}from'react';import{findPeoplee}from'../api/api-post';import{useState}from'react';import{follow}from'../api/api-post';import{useNavigate}from'react-router';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const FindPeople=()=>{const nav=useNavigate();const abortController=new AbortController();const signal=abortController.signal;const[values,setValues]=useState({users:[],open:false,followMessage:'ERROR'});const jwt=auth.isAuthenticated();const user1=jwt1(jwt.token);useEffect(()=>{findPeoplee({userId:user1.id},{t:jwt.token},signal).then(data=>{if(data)setValues({...values,users:data});});},[]);const clickFollow=(user,index)=>{const jwt=auth.isAuthenticated();const user1=jwt1(jwt.token);console.log(index);follow({userId:user1.id},{t:jwt.token},user._id).then(data=>{console.log(data);let toFollow=values.users;toFollow.splice(index,1);setValues({...values,users:toFollow,open:true,followMessage:`Following ${user.name}!`});toast.success(`Following ${user.name}!`,{position:toast.POSITION.TOP_RIGHT,autoClose:1000});});};console.log(values.users);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"right col-lg-4 d-lg-block d-sm-none d-none border rounded border-info border_radius d-flex flex-column  p-3 mt-3 white border mt-5 \",style:{color:'grey'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{class:\"fw-bold fs-5\",children:\"Suggestions for you\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"max_height overflow-auto\",children:values.users.map((user2,idx)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center p-2  mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"images/user (3).png\",alt:\"profile\",style:{width:50,height:50},className:\"me-3\"})}),/*#__PURE__*/_jsx(\"h6\",{onClick:()=>{nav('/user/'+user2._id);},className:\" fw-bold\",children:user2.name}),/*#__PURE__*/_jsx(\"i\",{onClick:()=>{clickFollow(user2,idx);},className:\"fa-solid fa-user-plus ms-auto fs-4\"})]});})})]})});};export default FindPeople;","map":{"version":3,"names":["React","auth","jwt1","useEffect","findPeoplee","useState","follow","useNavigate","toast","FindPeople","nav","abortController","AbortController","signal","values","setValues","users","open","followMessage","jwt","isAuthenticated","user1","token","userId","id","t","then","data","clickFollow","user","index","console","log","_id","toFollow","splice","name","success","position","POSITION","TOP_RIGHT","autoClose","color","map","user2","idx","width","height"],"sources":["D:/5th Sem/Web Technologies/WT PROJECT/Social/Social-Networking-Mern/FrontEnd/src/component/FindPeople.jsx"],"sourcesContent":["import React from 'react'\r\nimport auth from './../auth/auth-help'\r\nimport jwt1 from 'jwt-decode' // import dependency\r\nimport { useEffect } from 'react'\r\nimport { findPeoplee } from '../api/api-post'\r\nimport { useState } from 'react'\r\nimport { follow } from '../api/api-post'\r\nimport { useNavigate } from 'react-router'\r\nimport {toast} from 'react-toastify';\r\n\r\nconst FindPeople = () => {\r\n    const nav = useNavigate()\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n\r\n    const [values, setValues] = useState({\r\n    users: [],\r\n    open: false,\r\n    followMessage: 'ERROR'\r\n  })\r\n\r\n const jwt = auth.isAuthenticated()\r\n const user1 = jwt1(jwt.token);\r\n\r\n \r\n   useEffect(()=>{\r\n\r\n      findPeoplee(\r\n         {\r\n        userId : user1.id\r\n        },\r\n        {\r\n          t:jwt.token\r\n        },signal,\r\n        ).then((data)=>{\r\n            if(data)\r\n               setValues({...values,users:data})\r\n        })\r\n\r\n   },[])\r\n\r\nconst clickFollow = (user, index) => {\r\n\r\n const jwt = auth.isAuthenticated()\r\n const user1 = jwt1(jwt.token);\r\n console.log(index)\r\n\r\n    follow({\r\n      userId: user1.id\r\n    }, {\r\n      t: jwt.token\r\n    }, user._id).then((data) => {\r\n        console.log(data)\r\n        let toFollow = values.users\r\n        toFollow.splice(index, 1)\r\n        \r\n        setValues({...values, users: toFollow, open: true, followMessage:`Following ${user.name}!`})\r\n        toast.success(`Following ${user.name}!`,{position: toast.POSITION.TOP_RIGHT,autoClose:1000})\r\n\r\n        \r\n    })\r\n  }\r\n   console.log(values.users)\r\n\r\n\r\n  return (\r\n    <>\r\n<div className=\"right col-lg-4 d-lg-block d-sm-none d-none border rounded border-info border_radius d-flex flex-column  p-3 mt-3 white border mt-5 \" style={{ color: 'grey' }}>\r\n  <div>\r\n                    <p class=\"fw-bold fs-5\">Suggestions for you</p>\r\n  </div>\r\n  <hr />\r\n  <div className=\"max_height overflow-auto\">\r\n\r\n  {values.users.map((user2,idx)=>{\r\n     return (\r\n      <div className=\"d-flex align-items-center p-2  mb-3\">\r\n      <div>\r\n        <img\r\n          src=\"images/user (3).png\"\r\n          alt=\"profile\"\r\n          style={{ width: 50 ,height:50}}\r\n          className=\"me-3\"\r\n        />\r\n      </div>\r\n      <h6 onClick={()=>{\r\n           nav('/user/'+user2._id)\r\n      }} className=\" fw-bold\">{user2.name}</h6>\r\n      <i onClick={()=>{\r\n        clickFollow(user2,idx)\r\n      }} className=\"fa-solid fa-user-plus ms-auto fs-4\" />\r\n    </div>\r\n     \r\n     )\r\n  })}\r\n  </div>\r\n</div>\r\n\r\n\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default FindPeople"],"mappings":"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"},"metadata":{},"sourceType":"module"}