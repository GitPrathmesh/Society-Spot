{"ast":null,"code":"var _jsxFileName = \"D:\\\\5th Sem\\\\Web Technologies\\\\WT PROJECT\\\\Social\\\\Social-Networking-Mern\\\\FrontEnd\\\\src\\\\component\\\\FindPeople.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport auth from './../auth/auth-help';\nimport jwt1 from 'jwt-decode'; // import dependency\n\nimport { useEffect } from 'react';\nimport { findPeoplee } from '../api/api-post';\nimport { useState } from 'react';\nimport { follow } from '../api/api-post';\nimport { useNavigate } from 'react-router';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FindPeople = () => {\n  _s();\n\n  const nav = useNavigate();\n  const abortController = new AbortController();\n  const signal = abortController.signal;\n  const [values, setValues] = useState({\n    users: [],\n    open: false,\n    followMessage: 'ERROR'\n  });\n  const jwt = auth.isAuthenticated();\n  const user1 = jwt1(jwt.token);\n  useEffect(() => {\n    findPeoplee({\n      userId: user1.id\n    }, {\n      t: jwt.token\n    }, signal).then(data => {\n      if (data) setValues({ ...values,\n        users: data\n      });\n    });\n  }, []);\n\n  const clickFollow = (user, index) => {\n    const jwt = auth.isAuthenticated();\n    const user1 = jwt1(jwt.token);\n    console.log(index);\n    follow({\n      userId: user1.id\n    }, {\n      t: jwt.token\n    }, user._id).then(data => {\n      console.log(data);\n      let toFollow = values.users;\n      toFollow.splice(index, 1);\n      setValues({ ...values,\n        users: toFollow,\n        open: true,\n        followMessage: `Following ${user.name}!`\n      });\n      toast.success(`Following ${user.name}!`, {\n        position: toast.POSITION.TOP_RIGHT,\n        autoClose: 1000\n      });\n    });\n  };\n\n  console.log(values.users);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right col-lg-4 d-lg-block d-sm-none d-none border rounded border-info border_radius d-flex flex-column  p-3 mt-3 white border mt-5 \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          class: \"fw-bold fs-5\",\n          children: \"Suggestions for you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max_height overflow-auto\",\n        children: values.users.map((user2, idx) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center p-2  mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: \"images/user (3).png\",\n                alt: \"profile\",\n                style: {\n                  width: 50,\n                  height: 50\n                },\n                className: \"me-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              onClick: () => {\n                nav('/user/' + user2._id);\n              },\n              className: \" fw-bold\",\n              children: user2.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              onClick: () => {\n                clickFollow(user2, idx);\n              },\n              className: \"fa-solid fa-user-plus ms-auto fs-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 7\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n};\n\n_s(FindPeople, \"TJ9D0lG+XA9BOjA/PZ1gDKLPwjc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = FindPeople;\nexport default FindPeople;\n\nvar _c;\n\n$RefreshReg$(_c, \"FindPeople\");","map":{"version":3,"names":["React","auth","jwt1","useEffect","findPeoplee","useState","follow","useNavigate","toast","FindPeople","nav","abortController","AbortController","signal","values","setValues","users","open","followMessage","jwt","isAuthenticated","user1","token","userId","id","t","then","data","clickFollow","user","index","console","log","_id","toFollow","splice","name","success","position","POSITION","TOP_RIGHT","autoClose","map","user2","idx","width","height"],"sources":["D:/5th Sem/Web Technologies/WT PROJECT/Social/Social-Networking-Mern/FrontEnd/src/component/FindPeople.jsx"],"sourcesContent":["import React from 'react'\r\nimport auth from './../auth/auth-help'\r\nimport jwt1 from 'jwt-decode' // import dependency\r\nimport { useEffect } from 'react'\r\nimport { findPeoplee } from '../api/api-post'\r\nimport { useState } from 'react'\r\nimport { follow } from '../api/api-post'\r\nimport { useNavigate } from 'react-router'\r\nimport {toast} from 'react-toastify';\r\n\r\nconst FindPeople = () => {\r\n    const nav = useNavigate()\r\n    const abortController = new AbortController()\r\n    const signal = abortController.signal\r\n\r\n    const [values, setValues] = useState({\r\n    users: [],\r\n    open: false,\r\n    followMessage: 'ERROR'\r\n  })\r\n\r\n const jwt = auth.isAuthenticated()\r\n const user1 = jwt1(jwt.token);\r\n\r\n \r\n   useEffect(()=>{\r\n\r\n      findPeoplee(\r\n         {\r\n        userId : user1.id\r\n        },\r\n        {\r\n          t:jwt.token\r\n        },signal,\r\n        ).then((data)=>{\r\n            if(data)\r\n               setValues({...values,users:data})\r\n        })\r\n\r\n   },[])\r\n\r\nconst clickFollow = (user, index) => {\r\n\r\n const jwt = auth.isAuthenticated()\r\n const user1 = jwt1(jwt.token);\r\n console.log(index)\r\n\r\n    follow({\r\n      userId: user1.id\r\n    }, {\r\n      t: jwt.token\r\n    }, user._id).then((data) => {\r\n        console.log(data)\r\n        let toFollow = values.users\r\n        toFollow.splice(index, 1)\r\n        \r\n        setValues({...values, users: toFollow, open: true, followMessage:`Following ${user.name}!`})\r\n        toast.success(`Following ${user.name}!`,{position: toast.POSITION.TOP_RIGHT,autoClose:1000})\r\n\r\n        \r\n    })\r\n  }\r\n   console.log(values.users)\r\n\r\n\r\n  return (\r\n    <>\r\n<div className=\"right col-lg-4 d-lg-block d-sm-none d-none border rounded border-info border_radius d-flex flex-column  p-3 mt-3 white border mt-5 \">\r\n  <div>\r\n                    <p class=\"fw-bold fs-5\">Suggestions for you</p>\r\n  </div>\r\n  <hr />\r\n  <div className=\"max_height overflow-auto\">\r\n\r\n  {values.users.map((user2,idx)=>{\r\n     return (\r\n      <div className=\"d-flex align-items-center p-2  mb-3\">\r\n      <div>\r\n        <img\r\n          src=\"images/user (3).png\"\r\n          alt=\"profile\"\r\n          style={{ width: 50 ,height:50}}\r\n          className=\"me-3\"\r\n        />\r\n      </div>\r\n      <h6 onClick={()=>{\r\n           nav('/user/'+user2._id)\r\n      }} className=\" fw-bold\">{user2.name}</h6>\r\n      <i onClick={()=>{\r\n        clickFollow(user2,idx)\r\n      }} className=\"fa-solid fa-user-plus ms-auto fs-4\" />\r\n    </div>\r\n     \r\n     )\r\n  })}\r\n  </div>\r\n</div>\r\n\r\n\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default FindPeople"],"mappings":"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"},"metadata":{},"sourceType":"module"}