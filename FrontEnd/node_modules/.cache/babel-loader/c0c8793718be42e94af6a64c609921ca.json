{"ast":null,"code":"import React,{useState,useEffect}from'react';import{toast}from'react-toastify';import{useNavigate}from\"react-router-dom\";import PulseLoader from\"react-spinners/PulseLoader\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{history}=_ref;let[loading,setLoading]=useState(false);let[color,setColor]=useState(\"#000000\");const nav=useNavigate();useEffect(()=>{if(localStorage.getItem(\"userInfo1\")){nav('/s');}},[history]);const[data,setData]=useState({});function handleChange(event){const{name,value}=event.target;setData(pre=>{return{...pre,[name]:value};});}async function handleClick(event){//console.log(data);\nevent.preventDefault();setLoading(true);const newDate=data;if(!data.name||!data.password||!data.email||!data.password2){toast.warning('Please Fill all the Feilds',{position:toast.POSITION.TOP_LEFT});setLoading(false);return;}console.log(newDate);const requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)};const response=await fetch('http://localhost:4000/api/users/register',requestOptions);const Data=await response.json();if(!Data.error){toast.success('Successful Register',{position:toast.POSITION.TOP_LEFT,autoClose:1000});setLoading(false);nav('/login');}else{toast.warning(Data.error,{position:toast.POSITION.TOP_LEFT,autoClose:1000});setLoading(false);}}return/*#__PURE__*/_jsxs(\"div\",{class:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(PulseLoader,{color:color,loading:loading,size:15}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"name\",class:\"form-control\",name:\"name\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"email\",class:\"form-control\",name:\"email\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"password\",class:\"form-control\",name:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"Confirm PassWord\"}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"password\",class:\"form-control\",name:\"password2\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Have an acount Login\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,class:\"btn btn-dark\",children:\"Register\"})]})})})})})]});};export default Register;","map":{"version":3,"names":["React","useState","useEffect","toast","useNavigate","PulseLoader","Link","Register","history","loading","setLoading","color","setColor","nav","localStorage","getItem","data","setData","handleChange","event","name","value","target","pre","handleClick","preventDefault","newDate","password","email","password2","warning","position","POSITION","TOP_LEFT","console","log","requestOptions","method","headers","body","JSON","stringify","response","fetch","Data","json","error","success","autoClose"],"sources":["D:/5th Sem/Web Technologies/WT PROJECT/Social/Social-Networking-Mern/FrontEnd/src/component/Register.jsx"],"sourcesContent":["import React ,{useState,useEffect}from 'react'\r\nimport {toast} from 'react-toastify';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Register = ({history}) => {\r\nlet [loading, setLoading] = useState(false);\r\nlet [color, setColor] = useState(\"#000000\");\r\n\r\nconst nav = useNavigate();\r\n\r\n useEffect(()=>{\r\n    if(localStorage.getItem(\"userInfo1\"))\r\n    {\r\n         nav('/s')\r\n    }\r\n  },[history])\r\n  const [data,setData] = useState({})\r\n\r\n  function handleChange(event)\r\n  {\r\n       const {name,value} = event.target;\r\n\r\n       setData((pre)=>{\r\n         return {\r\n         ...pre,\r\n         [name]:value,\r\n\r\n         }\r\n       })\r\n\r\n  }\r\n\r\n  async function handleClick(event){\r\n    //console.log(data);\r\n    event.preventDefault();\r\n    setLoading(true)\r\n\r\n    const newDate = data;\r\n    if (!data.name || !data.password|| !data.email ||!data.password2) {\r\n      toast.warning('Please Fill all the Feilds',{position: toast.POSITION.TOP_LEFT})\r\n          setLoading(false)\r\n      return;\r\n    }\r\n    console.log(newDate)\r\n\r\n   const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data)\r\n        \r\n    };\r\n    \r\n    const response = await fetch('http://localhost:4000/api/users/register', requestOptions)\r\n    const Data = await response.json();\r\n\r\n    if(!Data.error){\r\n    toast.success('Successful Register',{position: toast.POSITION.TOP_LEFT,autoClose:1000})\r\n    setLoading(false)\r\n    nav('/login')\r\n    }\r\n    else \r\n    {\r\n    toast.warning(Data.error,{position: toast.POSITION.TOP_LEFT,autoClose:1000})\r\n    setLoading(false)\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  return (\r\n<div class=\"container mt-5\">\r\n  <h1>Register</h1>\r\n  <PulseLoader  color={color} loading={loading} size={15} />\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-8\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <form>\r\n           <div class=\"form-group\">\r\n              <label for=\"name\">Name</label>\r\n              <input onChange={handleChange} type=\"name\" class=\"form-control\" name=\"name\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"email\">Email</label>\r\n              <input onChange={handleChange} type=\"email\" class=\"form-control\" name=\"email\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"password\">Password</label>\r\n              <input onChange={handleChange} type=\"password\" class=\"form-control\" name=\"password\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"password\">Confirm PassWord</label>\r\n              <input onChange={handleChange} type=\"password\" class=\"form-control\" name=\"password2\"/>\r\n              <p>\r\n             <Link to=\"/login\">Have an acount Login</Link>\r\n            </p>\r\n            </div>\r\n            <button onClick={handleClick} class=\"btn btn-dark\">Register</button>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n  )\r\n}\r\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module"}