{"ast":null,"code":"var _jsxFileName = \"D:\\\\5th Sem\\\\Web Technologies\\\\WT PROJECT\\\\Social\\\\Social-Networking-Mern\\\\FrontEnd\\\\src\\\\component\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport { Button, ButtonGroup } from '@chakra-ui/react';\nimport { toast } from 'react-toastify';\nimport { Link } from 'react-router-dom';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useNavigate } from \"react-router-dom\";\nimport PulseLoader from \"react-spinners/PulseLoader\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  let [loading, setLoading] = useState(false);\n  let [color, setColor] = useState(\"#000000\");\n  const nav = useNavigate();\n  useEffect(() => {\n    if (localStorage.getItem(\"userInfo1\")) {\n      nav('/s');\n    }\n  }, [history]);\n  const [data, setData] = useState({});\n\n  const handleClick = async event => {\n    event.preventDefault();\n    setLoading(true);\n\n    if (!data.email || !data.password) {\n      toast.warning('Please Fill all the Feilds', {\n        position: toast.POSITION.TOP_LEFT\n      });\n      return;\n    }\n\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n\n    try {\n      const response = await fetch('http://localhost:4000/api/users/login', requestOptions);\n      const Data = await response.json();\n      console.log(Data);\n\n      if (Data.success) {\n        localStorage.setItem(\"userInfo1\", JSON.stringify(Data));\n        toast.success('Successful Login', {\n          position: toast.POSITION.TOP_LEFT,\n          autoClose: 1000\n        });\n        setLoading(false);\n        nav('/s');\n      } else {\n        throw Data;\n      }\n    } catch (Data) {\n      console.log(Data);\n      toast.warning(Data.errors, {\n        position: toast.POSITION.TOP_LEFT,\n        autoClose: 1000\n      });\n      setLoading(false);\n    }\n  };\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setData(pre => {\n      return { ...pre,\n        [name]: value\n      };\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(PulseLoader, {\n      color: color,\n      loading: loading,\n      size: 15\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              action: \"/login\",\n              method: \"POST\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"email\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: handleChange,\n                  type: \"email\",\n                  class: \"form-control\",\n                  name: \"email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"password\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: handleChange,\n                  type: \"password\",\n                  class: \"form-control\",\n                  name: \"password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/register\",\n                    children: \"Don't Have an acount Register\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 9\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleClick,\n                class: \"btn btn-dark\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"col-sm-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 1\n  }, this);\n};\n\n_s(Login, \"qRvINCnmzflLGVh2i36z+CQXn9w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","axios","Button","ButtonGroup","toast","Link","useNavigate","PulseLoader","Login","history","loading","setLoading","color","setColor","nav","localStorage","getItem","data","setData","handleClick","event","preventDefault","email","password","warning","position","POSITION","TOP_LEFT","requestOptions","method","headers","body","JSON","stringify","response","fetch","Data","json","console","log","success","setItem","autoClose","errors","handleChange","name","value","target","pre"],"sources":["D:/5th Sem/Web Technologies/WT PROJECT/Social/Social-Networking-Mern/FrontEnd/src/component/Login.jsx"],"sourcesContent":["import React,{useState , useEffect} from 'react'\r\nimport axios from \"axios\";\r\nimport { Button, ButtonGroup } from '@chakra-ui/react'\r\nimport {toast} from 'react-toastify';\r\nimport { Link } from 'react-router-dom';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport PulseLoader from \"react-spinners/PulseLoader\";\r\n\r\n\r\nconst Login = ({history}) => {\r\n  let [loading, setLoading] = useState(false);\r\n  let [color, setColor] = useState(\"#000000\");\r\n\r\nconst nav = useNavigate();\r\n\r\n\r\n useEffect(()=>{\r\n    if(localStorage.getItem(\"userInfo1\"))\r\n    {\r\n         nav('/s')\r\n    }\r\n  },[history])\r\n\r\n\r\nconst [data,setData] = useState({})\r\nconst handleClick = async (event) => {\r\n      event.preventDefault();\r\n    setLoading(true)\r\n    if (!data.email || !data.password) {\r\n      toast.warning('Please Fill all the Feilds',{position: toast.POSITION.TOP_LEFT})\r\n      return;\r\n    }\r\n\r\n      const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data),\r\n        \r\n    };\r\n    try{\r\n    const response = await fetch('http://localhost:4000/api/users/login', requestOptions);\r\n    const Data = await response.json();\r\n    console.log(Data);\r\n    \r\n    if(Data.success){\r\n    localStorage.setItem(\"userInfo1\", JSON.stringify(Data));\r\n    toast.success('Successful Login',{position: toast.POSITION.TOP_LEFT,autoClose:1000})\r\n    setLoading(false)\r\n    nav('/s')\r\n    }\r\n  else \r\n  {\r\n    throw Data\r\n  }\r\n  }catch(Data){\r\n      console.log(Data)\r\n      toast.warning(Data.errors,{position: toast.POSITION.TOP_LEFT,autoClose:1000})\r\n      setLoading(false)\r\n\r\n  }\r\n    \r\n  }\r\nfunction handleChange(event)\r\n  {\r\n       const {name,value} = event.target;\r\n\r\n       setData((pre)=>{\r\n         return {\r\n         ...pre,\r\n         [name]:value,\r\n\r\n         }\r\n       })\r\n\r\n  }\r\n\r\n  return (\r\n<div class=\"container mt-5\">\r\n  <h1>Login</h1>\r\n  <PulseLoader  color={color} loading={loading} size={15} />\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-8\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <form action=\"/login\" method=\"POST\">\r\n            <div class=\"form-group\">\r\n              <label for=\"email\">Email</label>\r\n              <input onChange={handleChange} type=\"email\" class=\"form-control\" name=\"email\"/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"password\">Password</label>\r\n              <input onChange={handleChange}  type=\"password\" class=\"form-control\" name=\"password\"/>\r\n              <p>\r\n        <Link to=\"/register\">Don't Have an acount Register</Link>\r\n      </p>\r\n            </div>\r\n            <button onClick={handleClick} class=\"btn btn-dark\">Login</button>\r\n          </form>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-sm-4\">\r\n      \r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n  )\r\n}\r\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}